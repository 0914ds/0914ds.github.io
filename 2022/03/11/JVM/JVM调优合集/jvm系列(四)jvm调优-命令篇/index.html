<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="jvmç³»åˆ—(å››):jvmè°ƒä¼˜-å‘½ä»¤ç¯‡" />
    <meta name="hexo-theme-A4" content="v1.9.7" />
    <link rel="alternate icon" type="image/webp" href="../../../../../../img/favicon.webp">
    <title>blog</title>

    
        
<link rel="stylesheet" href="../../../../../../css/highlight/style1.css">

        
<link rel="stylesheet" href="../../../../../../css/reset.css">

        
<link rel="stylesheet" href="../../../../../../css/markdown.css">

        
<link rel="stylesheet" href="../../../../../../css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="../../../../../../css/ui.css">
 
        
<link rel="stylesheet" href="../../../../../../css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="../../../../../../css/returnToTop.css">

            
<link rel="stylesheet" href="../../../../../../css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="../../../../../../css/toc.css">

        
    

    
        
<link rel="stylesheet" href="../../../../../../css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="../../../../../../css/lightgallery-bundle.min.css">


   
        
<link rel="stylesheet" href="../../../../../../css/custom.css">

    

<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="atom.xml" title="blog" type="application/atom+xml">
</head>
    
    
        <style>
            .index-main{
                max-width:  880px;
            }
        </style>

    
    



    

    
    




    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <style>
            .header-img {
                width: 56px;
                height: auto;
                object-fit: cover; /* ä¿æŒå›¾ç‰‡æ¯”ä¾‹ */
                transition: transform 0.3s ease-in-out; 
                border-radius: 0; 
            }
            
        </style>
        <img 
            alt="^-^" 
            cache-control="max-age=86400" 
            class="header-img" 
            src="../../../../../../img/favicon.webp" 
        />
        <div class="header-content">
            <a class="logo" href="../../../../../../index.html">blog</a> 
            <span class="description"></span> 
        </div>
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="../../../../../../index.html">é¦–é¡µ</a></li>
            
        
            
                <li><a href="../../../../../../list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="../../../../../../about/">å…³äº</a></li>
            
        
            
                <li><a href="../../../../../../tags/">æ ‡ç­¾</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    jvmç³»åˆ—(å››):jvmè°ƒä¼˜-å‘½ä»¤ç¯‡
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2023-07-02</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š4.6k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š20åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#jvm%E7%B3%BB%E5%88%97%E5%9B%9Bjvm%E8%B0%83%E4%BC%98-%E5%91%BD%E4%BB%A4%E7%AF%87"><span class="post-toc-text">jvmç³»åˆ—(å››):jvmè°ƒä¼˜-å‘½ä»¤ç¯‡</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jps"><span class="post-toc-text">jps</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="post-toc-text">å‘½ä»¤æ ¼å¼</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#option%E5%8F%82%E6%95%B0"><span class="post-toc-text">optionå‚æ•°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="post-toc-text">ç¤ºä¾‹</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jstat"><span class="post-toc-text">jstat</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-1"><span class="post-toc-text">å‘½ä»¤æ ¼å¼</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8F%82%E6%95%B0"><span class="post-toc-text">å‚æ•°</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#option-%E5%8F%82%E6%95%B0%E6%80%BB%E8%A7%88"><span class="post-toc-text">option å‚æ•°æ€»è§ˆ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#option-%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3"><span class="post-toc-text">option å‚æ•°è¯¦è§£</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#class"><span class="post-toc-text">-class</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#compiler"><span class="post-toc-text">-compiler</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#gc"><span class="post-toc-text">-gc</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#gccapacity"><span class="post-toc-text">-gccapacity</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#gcutil"><span class="post-toc-text">-gcutil</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#gccause"><span class="post-toc-text">-gccause</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#gcnew"><span class="post-toc-text">-gcnew</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#gcnewcapacity"><span class="post-toc-text">-gcnewcapacity</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#gcold"><span class="post-toc-text">-gcold</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#gcoldcapacity"><span class="post-toc-text">-gcoldcapacity</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#gcpermcapacity"><span class="post-toc-text">-gcpermcapacity</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#printcompilation"><span class="post-toc-text">-printcompilation</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jmap"><span class="post-toc-text">jmap</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-2"><span class="post-toc-text">å‘½ä»¤æ ¼å¼</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#option%E5%8F%82%E6%95%B0-1"><span class="post-toc-text">optionå‚æ•°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="post-toc-text">ç¤ºä¾‹</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#dump"><span class="post-toc-text">-dump</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#finalizerinfo"><span class="post-toc-text">-finalizerinfo</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#heap"><span class="post-toc-text">-heap</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#histo"><span class="post-toc-text">-histo</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#permstat"><span class="post-toc-text">-permstat</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#f"><span class="post-toc-text">-F</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jhat"><span class="post-toc-text">jhat</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-3"><span class="post-toc-text">å‘½ä»¤æ ¼å¼</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8F%82%E6%95%B0-1"><span class="post-toc-text">å‚æ•°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%A4%BA%E4%BE%8B-2"><span class="post-toc-text">ç¤ºä¾‹</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%86%E6%9E%90"><span class="post-toc-text">åˆ†æ</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jstack"><span class="post-toc-text">jstack</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-4"><span class="post-toc-text">å‘½ä»¤æ ¼å¼</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#option%E5%8F%82%E6%95%B0-2"><span class="post-toc-text">optionå‚æ•°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%A4%BA%E4%BE%8B-3"><span class="post-toc-text">ç¤ºä¾‹</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%86%E6%9E%90-1"><span class="post-toc-text">åˆ†æ</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jinfo"><span class="post-toc-text">jinfo</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-5"><span class="post-toc-text">å‘½ä»¤æ ¼å¼</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#option%E5%8F%82%E6%95%B0-3"><span class="post-toc-text">optionå‚æ•°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%A4%BA%E4%BE%8B-4"><span class="post-toc-text">ç¤ºä¾‹</span></a></li></ol></li></ol></li></ol>
            
        
        <div class=".article-gallery"><h1 id="jvmç³»åˆ—å››jvmè°ƒä¼˜-å‘½ä»¤ç¯‡">jvmç³»åˆ—(å››):jvmè°ƒä¼˜-å‘½ä»¤ç¯‡</h1>
<p>è¿ç”¨jvmè‡ªå¸¦çš„å‘½ä»¤å¯ä»¥æ–¹ä¾¿çš„åœ¨ç”Ÿäº§ç›‘æ§å’Œæ‰“å°å †æ ˆçš„æ—¥å¿—ä¿¡æ¯å¸®å¿™æˆ‘ä»¬æ¥å®šä½é—®é¢˜ï¼è™½ç„¶jvmè°ƒä¼˜æˆç†Ÿçš„å·¥å…·å·²ç»æœ‰å¾ˆå¤šï¼šjconsoleã€å¤§åé¼é¼çš„VisualVMï¼ŒIBMçš„Memory
Analyzerç­‰ç­‰ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒå‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œä¸€æ–¹é¢å·¥å…·çš„ä½¿ç”¨ä¼šæœ‰æ‰€é™åˆ¶ï¼Œå¦ä¸€æ–¹é¢å–œæ¬¢è£…Xçš„æˆ‘ä»¬ï¼Œæ€»å–œæ¬¢åœ¨å‡ºç°é—®é¢˜çš„æ—¶å€™åœ¨ç»ˆç«¯è¾“å…¥ä¸€äº›å‘½ä»¤æ¥è§£å†³ã€‚æ‰€æœ‰çš„å·¥å…·å‡ ä¹éƒ½æ˜¯ä¾èµ–äºjdkçš„æ¥å£å’Œåº•å±‚çš„è¿™äº›å‘½ä»¤ï¼Œç ”ç©¶è¿™äº›å‘½ä»¤çš„ä½¿ç”¨ä¹Ÿè®©æˆ‘ä»¬æ›´èƒ½äº†è§£jvmæ„æˆå’Œç‰¹æ€§ã€‚</p>
<p>Sun JDKç›‘æ§å’Œæ•…éšœå¤„ç†å‘½ä»¤æœ‰jps jstat jmap jhat jstack
jinfoä¸‹é¢åšä¸€ä¸€ä»‹ç»</p>
<h2 id="jps">jps</h2>
<p>JVM Process Status Tool,æ˜¾ç¤ºæŒ‡å®šç³»ç»Ÿå†…æ‰€æœ‰çš„HotSpotè™šæ‹Ÿæœºè¿›ç¨‹ã€‚</p>
<h3 id="å‘½ä»¤æ ¼å¼">å‘½ä»¤æ ¼å¼</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps [options] [hostid]</span><br></pre></td></tr></table></figure>
<h3 id="optionå‚æ•°">optionå‚æ•°</h3>
<blockquote>
<ul>
<li>-l : è¾“å‡ºä¸»ç±»å…¨åæˆ–jarè·¯å¾„</li>
<li>-q : åªè¾“å‡ºLVMID</li>
<li>-m : è¾“å‡ºJVMå¯åŠ¨æ—¶ä¼ é€’ç»™main()çš„å‚æ•°</li>
<li>-v : è¾“å‡ºJVMå¯åŠ¨æ—¶æ˜¾ç¤ºæŒ‡å®šçš„JVMå‚æ•°</li>
</ul>
</blockquote>
<p>å…¶ä¸­[option]ã€[hostid]å‚æ•°ä¹Ÿå¯ä»¥ä¸å†™ã€‚</p>
<h3 id="ç¤ºä¾‹">ç¤ºä¾‹</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jps -l -m  28920 org.apache.catalina.startup.Bootstrap start  11589 org.apache.catalina.startup.Bootstrap start  25816 sun.tools.jps.Jps -l -m</span><br></pre></td></tr></table></figure>
<h2 id="jstat">jstat</h2>
<p>jstat(JVM statistics
Monitoring)æ˜¯ç”¨äºç›‘è§†è™šæ‹Ÿæœºè¿è¡Œæ—¶çŠ¶æ€ä¿¡æ¯çš„å‘½ä»¤ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºå‡ºè™šæ‹Ÿæœºè¿›ç¨‹ä¸­çš„ç±»è£…è½½ã€å†…å­˜ã€åƒåœ¾æ”¶é›†ã€JITç¼–è¯‘ç­‰è¿è¡Œæ•°æ®ã€‚</p>
<h3 id="å‘½ä»¤æ ¼å¼-1">å‘½ä»¤æ ¼å¼</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jstat [option] LVMID [interval] [count]</span><br></pre></td></tr></table></figure>
<h3 id="å‚æ•°">å‚æ•°</h3>
<blockquote>
<ul>
<li>[option] : æ“ä½œå‚æ•°</li>
<li>LVMID : æœ¬åœ°è™šæ‹Ÿæœºè¿›ç¨‹ID</li>
<li>[interval] : è¿ç»­è¾“å‡ºçš„æ—¶é—´é—´éš”</li>
<li>[count] : è¿ç»­è¾“å‡ºçš„æ¬¡æ•°</li>
</ul>
</blockquote>
<h4 id="option-å‚æ•°æ€»è§ˆ">option å‚æ•°æ€»è§ˆ</h4>
<table>
<colgroup>
<col style="width: 21%">
<col style="width: 78%">
</colgroup>
<thead>
<tr>
<th style="text-align: left;">Option</th>
<th style="text-align: left;">Displaysâ€¦</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">class</td>
<td style="text-align: left;">class loaderçš„è¡Œä¸ºç»Ÿè®¡ã€‚Statistics on the
behavior of the class loader.</td>
</tr>
<tr>
<td style="text-align: left;">compiler</td>
<td style="text-align: left;">HotSpt JITç¼–è¯‘å™¨è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of
the behavior of the HotSpot Just-in-Time compiler.</td>
</tr>
<tr>
<td style="text-align: left;">gc</td>
<td style="text-align: left;">åƒåœ¾å›æ”¶å †çš„è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the
behavior of the garbage collected heap.</td>
</tr>
<tr>
<td style="text-align: left;">gccapacity</td>
<td style="text-align: left;">å„ä¸ªåƒåœ¾å›æ”¶ä»£å®¹é‡(young,old,perm)å’Œä»–ä»¬ç›¸åº”çš„ç©ºé—´ç»Ÿè®¡ã€‚Statistics
of the capacities of the generations and their corresponding
spaces.</td>
</tr>
<tr>
<td style="text-align: left;">gcutil</td>
<td style="text-align: left;">åƒåœ¾å›æ”¶ç»Ÿè®¡æ¦‚è¿°ã€‚Summary of garbage
collection statistics.</td>
</tr>
<tr>
<td style="text-align: left;">gccause</td>
<td style="text-align: left;">åƒåœ¾æ”¶é›†ç»Ÿè®¡æ¦‚è¿°ï¼ˆåŒ-gcutilï¼‰ï¼Œé™„åŠ æœ€è¿‘ä¸¤æ¬¡åƒåœ¾å›æ”¶äº‹ä»¶çš„åŸå› ã€‚Summary
of garbage collection statistics (same as -gcutil), with the cause of
the last and</td>
</tr>
<tr>
<td style="text-align: left;">gcnew</td>
<td style="text-align: left;">æ–°ç”Ÿä»£è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the behavior
of the new generation.</td>
</tr>
<tr>
<td style="text-align: left;">gcnewcapacity</td>
<td style="text-align: left;">æ–°ç”Ÿä»£ä¸å…¶ç›¸åº”çš„å†…å­˜ç©ºé—´çš„ç»Ÿè®¡ã€‚Statistics
of the sizes of the new generations and its corresponding spaces.</td>
</tr>
<tr>
<td style="text-align: left;">gcold</td>
<td style="text-align: left;">å¹´è€ä»£å’Œæ°¸ç”Ÿä»£è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the
behavior of the old and permanent generations.</td>
</tr>
<tr>
<td style="text-align: left;">gcoldcapacity</td>
<td style="text-align: left;">å¹´è€ä»£è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the sizes of
the old generation.</td>
</tr>
<tr>
<td style="text-align: left;">gcpermcapacity</td>
<td style="text-align: left;">æ°¸ç”Ÿä»£è¡Œä¸ºç»Ÿè®¡ã€‚Statistics of the sizes of
the permanent generation.</td>
</tr>
<tr>
<td style="text-align: left;">printcompilation</td>
<td style="text-align: left;">HotSpotç¼–è¯‘æ–¹æ³•ç»Ÿè®¡ã€‚HotSpot compilation
method statistics.</td>
</tr>
</tbody>
</table>
<h4 id="option-å‚æ•°è¯¦è§£">option å‚æ•°è¯¦è§£</h4>
<h5 id="class">-class</h5>
<p>ç›‘è§†ç±»è£…è½½ã€å¸è½½æ•°é‡ã€æ€»ç©ºé—´ä»¥åŠè€—è´¹çš„æ—¶é—´</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -class 11589 Loaded  Bytes  Unloaded  Bytes     Time     7035  14506.3     0     0.0       3.67</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Loaded : åŠ è½½classçš„æ•°é‡</li>
<li>Bytes : classå­—èŠ‚å¤§å°</li>
<li>Unloaded : æœªåŠ è½½classçš„æ•°é‡</li>
<li>Bytes : æœªåŠ è½½classçš„å­—èŠ‚å¤§å°</li>
<li>Time : åŠ è½½æ—¶é—´</li>
</ul>
</blockquote>
<h5 id="compiler">-compiler</h5>
<p>è¾“å‡ºJITç¼–è¯‘è¿‡çš„æ–¹æ³•æ•°é‡è€—æ—¶ç­‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -compiler 1262Compiled Failed Invalid   Time   FailedType FailedMethod    2573      1       0    47.60          1 org/apache/catalina/loader/WebappClassLoader findResourceInternal  </span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Compiled : ç¼–è¯‘æ•°é‡</li>
<li>Failed : ç¼–è¯‘å¤±è´¥æ•°é‡</li>
<li>Invalid : æ— æ•ˆæ•°é‡</li>
<li>Time : ç¼–è¯‘è€—æ—¶</li>
<li>FailedType : å¤±è´¥ç±»å‹</li>
<li>FailedMethod : å¤±è´¥æ–¹æ³•çš„å…¨é™å®šå</li>
</ul>
</blockquote>
<h5 id="gc">-gc</h5>
<p>åƒåœ¾å›æ”¶å †çš„è¡Œä¸ºç»Ÿè®¡ï¼Œ<strong>å¸¸ç”¨å‘½ä»¤</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gc 1262 S0C    S1C     S0U     S1U   EC       EU        OC         OU        PC       PU         YGC    YGCT    FGC    FGCT     GCT   26112.0 24064.0 6562.5  0.0   564224.0 76274.5   434176.0   388518.3  524288.0 42724.7    320    6.417   1      0.398    6.815</span><br></pre></td></tr></table></figure>
<p><strong>Cå³Capacity æ€»å®¹é‡ï¼ŒUå³Used å·²ä½¿ç”¨çš„å®¹é‡</strong></p>
<blockquote>
<ul>
<li>S0C : survivor0åŒºçš„æ€»å®¹é‡</li>
<li>S1C : survivor1åŒºçš„æ€»å®¹é‡</li>
<li>S0U : survivor0åŒºå·²ä½¿ç”¨çš„å®¹é‡</li>
<li>S1C : survivor1åŒºå·²ä½¿ç”¨çš„å®¹é‡</li>
<li>EC : EdenåŒºçš„æ€»å®¹é‡</li>
<li>EU : EdenåŒºå·²ä½¿ç”¨çš„å®¹é‡</li>
<li>OC : OldåŒºçš„æ€»å®¹é‡</li>
<li>OU : OldåŒºå·²ä½¿ç”¨çš„å®¹é‡</li>
<li>PC å½“å‰permçš„å®¹é‡ (KB)</li>
<li>PU permçš„ä½¿ç”¨ (KB)</li>
<li>YGC : æ–°ç”Ÿä»£åƒåœ¾å›æ”¶æ¬¡æ•°</li>
<li>YGCT : æ–°ç”Ÿä»£åƒåœ¾å›æ”¶æ—¶é—´</li>
<li>FGC : è€å¹´ä»£åƒåœ¾å›æ”¶æ¬¡æ•°</li>
<li>FGCT : è€å¹´ä»£åƒåœ¾å›æ”¶æ—¶é—´</li>
<li>GCT : åƒåœ¾å›æ”¶æ€»æ¶ˆè€—æ—¶é—´</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gc 1262 2000 20</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‘½ä»¤æ„æ€å°±æ˜¯æ¯éš”2000msè¾“å‡º1262çš„gcæƒ…å†µï¼Œä¸€å…±è¾“å‡º20æ¬¡</p>
<h5 id="gccapacity">-gccapacity</h5>
<p>åŒ-gcï¼Œä¸è¿‡è¿˜ä¼šè¾“å‡ºJavaå †å„åŒºåŸŸä½¿ç”¨åˆ°çš„æœ€å¤§ã€æœ€å°ç©ºé—´</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gccapacity 1262 NGCMN    NGCMX     NGC    S0C   S1C       EC         OGCMN      OGCMX      OGC        OC       PGCMN    PGCMX     PGC      PC         YGC    FGC 614400.0 614400.0 614400.0 26112.0 24064.0 564224.0   434176.0   434176.0   434176.0   434176.0 524288.0 1048576.0 524288.0 524288.0    320     1  </span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>NGCMN : æ–°ç”Ÿä»£å ç”¨çš„æœ€å°ç©ºé—´</li>
<li>NGCMX : æ–°ç”Ÿä»£å ç”¨çš„æœ€å¤§ç©ºé—´</li>
<li>OGCMN : è€å¹´ä»£å ç”¨çš„æœ€å°ç©ºé—´</li>
<li>OGCMX : è€å¹´ä»£å ç”¨çš„æœ€å¤§ç©ºé—´</li>
<li>OGCï¼šå½“å‰å¹´è€ä»£çš„å®¹é‡ (KB)</li>
<li>OCï¼šå½“å‰å¹´è€ä»£çš„ç©ºé—´ (KB)</li>
<li>PGCMN : permå ç”¨çš„æœ€å°ç©ºé—´</li>
<li>PGCMX : permå ç”¨çš„æœ€å¤§ç©ºé—´</li>
</ul>
</blockquote>
<h5 id="gcutil">-gcutil</h5>
<p>åŒ-gcï¼Œä¸è¿‡è¾“å‡ºçš„æ˜¯å·²ä½¿ç”¨ç©ºé—´å æ€»ç©ºé—´çš„ç™¾åˆ†æ¯”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gcutil 28920  S0     S1     E      O      P     YGC     YGCT    FGC    FGCT     GCT    12.45   0.00  33.85   0.00   4.44  4       0.242     0    0.000    0.242</span><br></pre></td></tr></table></figure>
<h5 id="gccause">-gccause</h5>
<p>åƒåœ¾æ”¶é›†ç»Ÿè®¡æ¦‚è¿°ï¼ˆåŒ-gcutilï¼‰ï¼Œé™„åŠ æœ€è¿‘ä¸¤æ¬¡åƒåœ¾å›æ”¶äº‹ä»¶çš„åŸå› </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gccause 28920  S0     S1     E      O      P       YGC     YGCT    FGC    FGCT     GCT    LGCC                 GCC                  12.45   0.00  33.85   0.00   4.44      4    0.242     0    0.000    0.242   Allocation Failure   No GC  </span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>LGCCï¼šæœ€è¿‘åƒåœ¾å›æ”¶çš„åŸå› </li>
<li>GCCï¼šå½“å‰åƒåœ¾å›æ”¶çš„åŸå› </li>
</ul>
</blockquote>
<h5 id="gcnew">-gcnew</h5>
<p>ç»Ÿè®¡æ–°ç”Ÿä»£çš„è¡Œä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gcnew 28920 S0C      S1C      S0U        S1U  TT  MTT  DSS      EC        EU         YGC     YGCT   419392.0 419392.0 52231.8    0.0  6   6    209696.0 3355520.0 1172246.0  4       0.242</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>TTï¼šTenuring threshold(æå‡é˜ˆå€¼)</li>
<li>MTTï¼šæœ€å¤§çš„tenuring threshold</li>
<li>DSSï¼šsurvivoråŒºåŸŸå¤§å° (KB)</li>
</ul>
</blockquote>
<h5 id="gcnewcapacity">-gcnewcapacity</h5>
<p>æ–°ç”Ÿä»£ä¸å…¶ç›¸åº”çš„å†…å­˜ç©ºé—´çš„ç»Ÿè®¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gcnewcapacity 28920  NGCMN      NGCMX       NGC      S0CMX     S0C     S1CMX     S1C       ECMX        EC        YGC   FGC  4194304.0  4194304.0  4194304.0 419392.0 419392.0 419392.0 419392.0  3355520.0  3355520.0     4     0</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>NGC:å½“å‰å¹´è½»ä»£çš„å®¹é‡ (KB)</li>
<li>S0CMX:æœ€å¤§çš„S0ç©ºé—´ (KB)</li>
<li>S0C:å½“å‰S0ç©ºé—´ (KB)</li>
<li>ECMX:æœ€å¤§edenç©ºé—´ (KB)</li>
<li>EC:å½“å‰edenç©ºé—´ (KB)</li>
</ul>
</blockquote>
<h5 id="gcold">-gcold</h5>
<p>ç»Ÿè®¡æ—§ç”Ÿä»£çš„è¡Œä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gcold 28920   PC       PU        OC           OU       YGC    FGC    FGCT     GCT   1048576.0  46561.7   6291456.0     0.0      4      0      0.000    0.242</span><br></pre></td></tr></table></figure>
<h5 id="gcoldcapacity">-gcoldcapacity</h5>
<p>ç»Ÿè®¡æ—§ç”Ÿä»£çš„å¤§å°å’Œç©ºé—´</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gcoldcapacity 28920   OGCMN       OGCMX        OGC         OC         YGC   FGC    FGCT     GCT     6291456.0   6291456.0   6291456.0   6291456.0     4     0    0.000    0.242</span><br></pre></td></tr></table></figure>
<h5 id="gcpermcapacity">-gcpermcapacity</h5>
<p>æ°¸ç”Ÿä»£è¡Œä¸ºç»Ÿè®¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -gcpermcapacity 28920    PGCMN      PGCMX       PGC         PC      YGC   FGC    FGCT     GCT    1048576.0  2097152.0  1048576.0  1048576.0     4     0    0.000    0.242</span><br></pre></td></tr></table></figure>
<h5 id="printcompilation">-printcompilation</h5>
<p>hotspotç¼–è¯‘æ–¹æ³•ç»Ÿè®¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstat -printcompilation 28920    Compiled  Size  Type Method    1291      78     1    java/util/ArrayList indexOf</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Compiledï¼šè¢«æ‰§è¡Œçš„ç¼–è¯‘ä»»åŠ¡çš„æ•°é‡</li>
<li>Sizeï¼šæ–¹æ³•å­—èŠ‚ç çš„å­—èŠ‚æ•°</li>
<li>Typeï¼šç¼–è¯‘ç±»å‹</li>
<li>Methodï¼šç¼–è¯‘æ–¹æ³•çš„ç±»åå’Œæ–¹æ³•åã€‚ç±»åä½¿ç”¨"/" ä»£æ›¿ "." ä½œä¸ºç©ºé—´åˆ†éš”ç¬¦.
æ–¹æ³•åæ˜¯ç»™å‡ºç±»çš„æ–¹æ³•å. æ ¼å¼æ˜¯ä¸€è‡´äºHotSpot - XX:+PrintComplation
é€‰é¡¹</li>
</ul>
</blockquote>
<h2 id="jmap">jmap</h2>
<p>jmap(JVM Memory Map)å‘½ä»¤ç”¨äºç”Ÿæˆheap
dumpæ–‡ä»¶ï¼Œå¦‚æœä¸ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œè¿˜é˜”ä»¥ä½¿ç”¨-XX:+HeapDumpOnOutOfMemoryErrorå‚æ•°æ¥è®©è™šæ‹Ÿæœºå‡ºç°OOMçš„æ—¶å€™Â·è‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶ã€‚
jmapä¸ä»…èƒ½ç”Ÿæˆdumpæ–‡ä»¶ï¼Œè¿˜é˜”ä»¥æŸ¥è¯¢finalizeæ‰§è¡Œé˜Ÿåˆ—ã€Javaå †å’Œæ°¸ä¹…ä»£çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚å½“å‰ä½¿ç”¨ç‡ã€å½“å‰ä½¿ç”¨çš„æ˜¯å“ªç§æ”¶é›†å™¨ç­‰ã€‚</p>
<h3 id="å‘½ä»¤æ ¼å¼-2">å‘½ä»¤æ ¼å¼</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmap [option] LVMID</span><br></pre></td></tr></table></figure>
<h3 id="optionå‚æ•°-1">optionå‚æ•°</h3>
<blockquote>
<ul>
<li>dump : ç”Ÿæˆå †è½¬å‚¨å¿«ç…§</li>
<li>finalizerinfo :
æ˜¾ç¤ºåœ¨F-Queueé˜Ÿåˆ—ç­‰å¾…Finalizerçº¿ç¨‹æ‰§è¡Œfinalizeræ–¹æ³•çš„å¯¹è±¡</li>
<li>heap : æ˜¾ç¤ºJavaå †è¯¦ç»†ä¿¡æ¯</li>
<li>histo : æ˜¾ç¤ºå †ä¸­å¯¹è±¡çš„ç»Ÿè®¡ä¿¡æ¯</li>
<li>permstat : to print permanent generation statistics</li>
<li>F : å½“-dumpæ²¡æœ‰å“åº”æ—¶ï¼Œå¼ºåˆ¶ç”Ÿæˆdumpå¿«ç…§</li>
</ul>
</blockquote>
<h3 id="ç¤ºä¾‹-1">ç¤ºä¾‹</h3>
<h5 id="dump">-dump</h5>
<p>å¸¸ç”¨æ ¼å¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-dump::live,format=b,file=&lt;filename&gt; pid </span><br></pre></td></tr></table></figure>
<p>dumpå †åˆ°æ–‡ä»¶,formatæŒ‡å®šè¾“å‡ºæ ¼å¼ï¼ŒliveæŒ‡æ˜æ˜¯æ´»ç€çš„å¯¹è±¡,fileæŒ‡å®šæ–‡ä»¶å</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jmap -dump:live,format=b,file=dump.hprof 28920  Dumping heap to /home/xxx/dump.hprof ...  Heap dump file created</span><br></pre></td></tr></table></figure>
<p>dump.hprofè¿™ä¸ªåç¼€æ˜¯ä¸ºäº†åç»­å¯ä»¥ç›´æ¥ç”¨MAT(Memory Anlysis
Tool)æ‰“å¼€ã€‚</p>
<h5 id="finalizerinfo">-finalizerinfo</h5>
<p>æ‰“å°ç­‰å¾…å›æ”¶å¯¹è±¡çš„ä¿¡æ¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jmap -finalizerinfo 28920  Attaching to process ID 28920, please wait...  Debugger attached successfully.  Server compiler detected.  JVM version is 24.71-b01  Number of objects pending for finalization: 0</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°å½“å‰F-QUEUEé˜Ÿåˆ—ä¸­å¹¶æ²¡æœ‰ç­‰å¾…Finalizerçº¿ç¨‹æ‰§è¡Œfinalizeræ–¹æ³•çš„å¯¹è±¡ã€‚</p>
<h5 id="heap">-heap</h5>
<p>æ‰“å°heapçš„æ¦‚è¦ä¿¡æ¯ï¼ŒGCä½¿ç”¨çš„ç®—æ³•ï¼Œheapçš„é…ç½®åŠwise
heapçš„ä½¿ç”¨æƒ…å†µ,å¯ä»¥ç”¨æ­¤æ¥åˆ¤æ–­å†…å­˜ç›®å‰çš„ä½¿ç”¨æƒ…å†µä»¥åŠåƒåœ¾å›æ”¶æƒ…å†µ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jmap -heap 28920  Attaching to process ID 28920, please wait...  Debugger attached successfully.  Server compiler detected.  JVM version is 24.71-b01    using thread-local object allocation.  Parallel GC with 4 thread(s)//GC æ–¹å¼    Heap Configuration: //å †å†…å­˜åˆå§‹åŒ–é…ç½®     MinHeapFreeRatio = 0 //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:MinHeapFreeRatioè®¾ç½®JVMå †æœ€å°ç©ºé—²æ¯”ç‡(default 40)     MaxHeapFreeRatio = 100 //å¯¹åº”jvmå¯åŠ¨å‚æ•° -XX:MaxHeapFreeRatioè®¾ç½®JVMå †æœ€å¤§ç©ºé—²æ¯”ç‡(default 70)     MaxHeapSize      = 2082471936 (1986.0MB) //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:MaxHeapSize=è®¾ç½®JVMå †çš„æœ€å¤§å¤§å°     NewSize          = 1310720 (1.25MB)//å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:NewSize=è®¾ç½®JVMå †çš„â€˜æ–°ç”Ÿä»£â€™çš„é»˜è®¤å¤§å°     MaxNewSize       = 17592186044415 MB//å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:MaxNewSize=è®¾ç½®JVMå †çš„â€˜æ–°ç”Ÿä»£â€™çš„æœ€å¤§å¤§å°     OldSize          = 5439488 (5.1875MB)//å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:OldSize=&lt;value&gt;:è®¾ç½®JVMå †çš„â€˜è€ç”Ÿä»£â€™çš„å¤§å°     NewRatio         = 2 //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:NewRatio=:â€˜æ–°ç”Ÿä»£â€™å’Œâ€˜è€ç”Ÿä»£â€™çš„å¤§å°æ¯”ç‡     SurvivorRatio    = 8 //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:SurvivorRatio=è®¾ç½®å¹´è½»ä»£ä¸­EdenåŒºä¸SurvivoråŒºçš„å¤§å°æ¯”å€¼      PermSize         = 21757952 (20.75MB)  //å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:PermSize=&lt;value&gt;:è®¾ç½®JVMå †çš„â€˜æ°¸ç”Ÿä»£â€™çš„åˆå§‹å¤§å°     MaxPermSize      = 85983232 (82.0MB)//å¯¹åº”jvmå¯åŠ¨å‚æ•°-XX:MaxPermSize=&lt;value&gt;:è®¾ç½®JVMå †çš„â€˜æ°¸ç”Ÿä»£â€™çš„æœ€å¤§å¤§å°     G1HeapRegionSize = 0 (0.0MB)    Heap Usage://å †å†…å­˜ä½¿ç”¨æƒ…å†µ  PS Young Generation  Eden Space://EdenåŒºå†…å­˜åˆ†å¸ƒ     capacity = 33030144 (31.5MB)//EdenåŒºæ€»å®¹é‡     used     = 1524040 (1.4534378051757812MB)  //EdenåŒºå·²ä½¿ç”¨     free     = 31506104 (30.04656219482422MB)  //EdenåŒºå‰©ä½™å®¹é‡     4.614088270399305% used //EdenåŒºä½¿ç”¨æ¯”ç‡  From Space:  //å…¶ä¸­ä¸€ä¸ªSurvivoråŒºçš„å†…å­˜åˆ†å¸ƒ     capacity = 5242880 (5.0MB)     used     = 0 (0.0MB)     free     = 5242880 (5.0MB)     0.0% used  To Space:  //å¦ä¸€ä¸ªSurvivoråŒºçš„å†…å­˜åˆ†å¸ƒ     capacity = 5242880 (5.0MB)     used     = 0 (0.0MB)     free     = 5242880 (5.0MB)     0.0% used  PS Old Generation //å½“å‰çš„OldåŒºå†…å­˜åˆ†å¸ƒ     capacity = 86507520 (82.5MB)     used     = 0 (0.0MB)     free     = 86507520 (82.5MB)     0.0% used  PS Perm Generation//å½“å‰çš„ â€œæ°¸ç”Ÿä»£â€ å†…å­˜åˆ†å¸ƒ     capacity = 22020096 (21.0MB)     used     = 2496528 (2.3808746337890625MB)     free     = 19523568 (18.619125366210938MB)     11.337498256138392% used    670 interned Strings occupying 43720 bytes.</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°Javaå †ä¸­å„ä¸ªåŒºåŸŸç›®å‰çš„æƒ…å†µã€‚</p>
<h5 id="histo">-histo</h5>
<p>æ‰“å°å †çš„å¯¹è±¡ç»Ÿè®¡ï¼ŒåŒ…æ‹¬å¯¹è±¡æ•°ã€å†…å­˜å¤§å°ç­‰ç­‰
ï¼ˆå› ä¸ºåœ¨dump:liveå‰ä¼šè¿›è¡Œfull
gcï¼Œå¦‚æœå¸¦ä¸Šliveåˆ™åªç»Ÿè®¡æ´»å¯¹è±¡ï¼Œå› æ­¤ä¸åŠ liveçš„å †å¤§å°è¦å¤§äºåŠ liveå †çš„å¤§å°
ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jmap -histo:live 28920 | more num     #instances         #bytes  class name----------------------------------------------   1:         83613       12012248  &lt;constMethodKlass&gt;   2:         23868       11450280  [B   3:         83613       10716064  &lt;methodKlass&gt;   4:         76287       10412128  [C   5:          8227        9021176  &lt;constantPoolKlass&gt;   6:          8227        5830256  &lt;instanceKlassKlass&gt;   7:          7031        5156480  &lt;constantPoolCacheKlass&gt;   8:         73627        1767048  java.lang.String   9:          2260        1348848  &lt;methodDataKlass&gt;  10:          8856         849296  java.lang.Class  ....</span><br></pre></td></tr></table></figure>
<p>ä»…ä»…æ‰“å°äº†å‰10è¡Œ</p>
<p>xml class nameæ˜¯å¯¹è±¡ç±»å‹ï¼Œè¯´æ˜å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B  byteC  charD  doubleF  floatI  intJ  longZ  boolean[  æ•°ç»„ï¼Œå¦‚[Iè¡¨ç¤ºint[][L+ç±»å å…¶ä»–å¯¹è±¡</span><br></pre></td></tr></table></figure>
<h5 id="permstat">-permstat</h5>
<p>æ‰“å°Javaå †å†…å­˜çš„æ°¸ä¹…ä¿å­˜åŒºåŸŸçš„ç±»åŠ è½½å™¨çš„æ™ºèƒ½ç»Ÿè®¡ä¿¡æ¯ã€‚å¯¹äºæ¯ä¸ªç±»åŠ è½½å™¨è€Œè¨€ï¼Œå®ƒçš„åç§°ã€æ´»è·ƒåº¦ã€åœ°å€ã€çˆ¶ç±»åŠ è½½å™¨ã€å®ƒæ‰€åŠ è½½çš„ç±»çš„æ•°é‡å’Œå¤§å°éƒ½ä¼šè¢«æ‰“å°ã€‚æ­¤å¤–ï¼ŒåŒ…å«çš„å­—ç¬¦ä¸²æ•°é‡å’Œå¤§å°ä¹Ÿä¼šè¢«æ‰“å°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jmap -permstat 28920  Attaching to process ID 28920, please wait...  Debugger attached successfully.  Server compiler detected.  JVM version is 24.71-b01  finding class loader instances ..done.  computing per loader stat ..done.  please wait.. computing liveness.liveness analysis may be inaccurate ...  class_loader            classes bytes   parent_loader           alive?  type    &lt;bootstrap&gt;             3111    18154296          null          live    &lt;internal&gt;  0x0000000600905cf8      1       1888    0x0000000600087f08      dead    sun/reflect/DelegatingClassLoader@0x00000007800500a0  0x00000006008fcb48      1       1888    0x0000000600087f08      dead    sun/reflect/DelegatingClassLoader@0x00000007800500a0  0x00000006016db798      0       0       0x00000006008d3fc0      dead    java/util/ResourceBundle$RBClassLoader@0x0000000780626ec0  0x00000006008d6810      1       3056      null          dead    sun/reflect/DelegatingClassLoader@0x00000007800500a0</span><br></pre></td></tr></table></figure>
<h5 id="f">-F</h5>
<p>å¼ºåˆ¶æ¨¡å¼ã€‚å¦‚æœæŒ‡å®šçš„pidæ²¡æœ‰å“åº”ï¼Œè¯·ä½¿ç”¨jmap -dumpæˆ–jmap
-histoé€‰é¡¹ã€‚æ­¤æ¨¡å¼ä¸‹ï¼Œä¸æ”¯æŒliveå­é€‰é¡¹ã€‚</p>
<h2 id="jhat">jhat</h2>
<p>jhat(JVM Heap Analysis
Tool)å‘½ä»¤æ˜¯ä¸jmapæ­é…ä½¿ç”¨ï¼Œç”¨æ¥åˆ†æjmapç”Ÿæˆçš„dumpï¼Œjhatå†…ç½®äº†ä¸€ä¸ªå¾®å‹çš„HTTP/HTMLæœåŠ¡å™¨ï¼Œç”Ÿæˆdumpçš„åˆ†æç»“æœåï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ã€‚åœ¨æ­¤è¦æ³¨æ„ï¼Œä¸€èˆ¬ä¸ä¼šç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œåˆ†æï¼Œå› ä¸ºjhatæ˜¯ä¸€ä¸ªè€—æ—¶å¹¶ä¸”è€—è´¹ç¡¬ä»¶èµ„æºçš„è¿‡ç¨‹ï¼Œä¸€èˆ¬æŠŠæœåŠ¡å™¨ç”Ÿæˆçš„dumpæ–‡ä»¶å¤åˆ¶åˆ°æœ¬åœ°æˆ–å…¶ä»–æœºå™¨ä¸Šè¿›è¡Œåˆ†æã€‚</p>
<h3 id="å‘½ä»¤æ ¼å¼-3">å‘½ä»¤æ ¼å¼</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jhat [dumpfile]</span><br></pre></td></tr></table></figure>
<h3 id="å‚æ•°-1">å‚æ•°</h3>
<blockquote>
<ul>
<li>-stack false|true å…³é—­å¯¹è±¡åˆ†é…è°ƒç”¨æ ˆè·Ÿè¸ª(tracking object allocation
call stack)ã€‚ å¦‚æœåˆ†é…ä½ç½®ä¿¡æ¯åœ¨å †è½¬å‚¨ä¸­ä¸å¯ç”¨. åˆ™å¿…é¡»å°†æ­¤æ ‡å¿—è®¾ç½®ä¸º
false. é»˜è®¤å€¼ä¸º true.&gt;</li>
<li>-refs false|true å…³é—­å¯¹è±¡å¼•ç”¨è·Ÿè¸ª(tracking of references to
objects)ã€‚ é»˜è®¤å€¼ä¸º true. é»˜è®¤æƒ…å†µä¸‹,
è¿”å›çš„æŒ‡é’ˆæ˜¯æŒ‡å‘å…¶ä»–ç‰¹å®šå¯¹è±¡çš„å¯¹è±¡,å¦‚åå‘é“¾æ¥æˆ–è¾“å…¥å¼•ç”¨(referrers or
incoming references), ä¼šç»Ÿè®¡/è®¡ç®—å †ä¸­çš„æ‰€æœ‰å¯¹è±¡ã€‚&gt;</li>
<li>-port port-number è®¾ç½® jhat HTTP server çš„ç«¯å£å·. é»˜è®¤å€¼
7000.&gt;</li>
<li>-exclude exclude-file æŒ‡å®šå¯¹è±¡æŸ¥è¯¢æ—¶éœ€è¦æ’é™¤çš„æ•°æ®æˆå‘˜åˆ—è¡¨æ–‡ä»¶(a
file that lists data members that should be excluded from the reachable
objects query)ã€‚ ä¾‹å¦‚, å¦‚æœæ–‡ä»¶åˆ—åˆ—å‡ºäº† java.lang.String.value ,
é‚£ä¹ˆå½“ä»æŸä¸ªç‰¹å®šå¯¹è±¡ Object o è®¡ç®—å¯è¾¾çš„å¯¹è±¡åˆ—è¡¨æ—¶, å¼•ç”¨è·¯å¾„æ¶‰åŠ
java.lang.String.value çš„éƒ½ä¼šè¢«æ’é™¤ã€‚&gt;</li>
<li>-baseline exclude-file æŒ‡å®šä¸€ä¸ªåŸºå‡†å †è½¬å‚¨(baseline heap dump)ã€‚
åœ¨ä¸¤ä¸ª heap dumps ä¸­æœ‰ç›¸åŒ object ID çš„å¯¹è±¡ä¼šè¢«æ ‡è®°ä¸ºä¸æ˜¯æ–°çš„(marked as
not being new). å…¶ä»–å¯¹è±¡è¢«æ ‡è®°ä¸ºæ–°çš„(new).
åœ¨æ¯”è¾ƒä¸¤ä¸ªä¸åŒçš„å †è½¬å‚¨æ—¶å¾ˆæœ‰ç”¨.&gt;</li>
<li>-debug int è®¾ç½® debug çº§åˆ«. 0 è¡¨ç¤ºä¸è¾“å‡ºè°ƒè¯•ä¿¡æ¯ã€‚
å€¼è¶Šå¤§åˆ™è¡¨ç¤ºè¾“å‡ºæ›´è¯¦ç»†çš„ debug ä¿¡æ¯.&gt;</li>
<li>-version å¯åŠ¨ååªæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å°±é€€å‡º&gt;</li>
<li>-J&lt; flag &gt; å› ä¸º jhat å‘½ä»¤å®é™…ä¸Šä¼šå¯åŠ¨ä¸€ä¸ªJVMæ¥æ‰§è¡Œ, é€šè¿‡ -J
å¯ä»¥åœ¨å¯åŠ¨JVMæ—¶ä¼ å…¥ä¸€äº›å¯åŠ¨å‚æ•°. ä¾‹å¦‚, -J-Xmx512m åˆ™æŒ‡å®šè¿è¡Œ jhat
çš„Javaè™šæ‹Ÿæœºä½¿ç”¨çš„æœ€å¤§å †å†…å­˜ä¸º 512 MB.
å¦‚æœéœ€è¦ä½¿ç”¨å¤šä¸ªJVMå¯åŠ¨å‚æ•°,åˆ™ä¼ å…¥å¤šä¸ª -Jxxxxxx.</li>
</ul>
</blockquote>
<h3 id="ç¤ºä¾‹-2">ç¤ºä¾‹</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jhat -J-Xmx512m dump.hprof  eading from dump.hprof...  Dump file created Fri Mar 11 17:13:42 CST 2016  Snapshot read, resolving...  Resolving 271678 objects...  Chasing references, expect 54 dots......................................................  Eliminating duplicate references......................................................  Snapshot resolved.  Started HTTP server on port 7000  Server is ready.</span><br></pre></td></tr></table></figure>
<p>ä¸­é—´çš„-J-Xmx512mæ˜¯åœ¨dumpå¿«ç…§å¾ˆå¤§çš„æƒ…å†µä¸‹åˆ†é…512Må†…å­˜å»å¯åŠ¨HTTPæœåŠ¡å™¨ï¼Œè¿è¡Œå®Œä¹‹åå°±å¯åœ¨æµè§ˆå™¨æ‰“å¼€Http://localhost:7000è¿›è¡Œå¿«ç…§åˆ†æ
å †å¿«ç…§åˆ†æä¸»è¦åœ¨æœ€åé¢çš„Heap
Histogramé‡Œï¼Œé‡Œé¢æ ¹æ®classåˆ—å‡ºäº†dumpçš„æ—¶å€™æ‰€æœ‰å­˜æ´»å¯¹è±¡ã€‚</p>
<p><strong>åˆ†æåŒæ ·ä¸€ä¸ªdumpå¿«ç…§ï¼ŒMATéœ€è¦çš„é¢å¤–å†…å­˜æ¯”jhatè¦å°çš„å¤šçš„å¤šï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨MATæ¥è¿›è¡Œåˆ†æï¼Œå½“ç„¶ä¹Ÿçœ‹ä¸ªäººåå¥½ã€‚</strong></p>
<h3 id="åˆ†æ">åˆ†æ</h3>
<p>æ‰“å¼€æµè§ˆå™¨Http://localhost:7000ï¼Œè¯¥é¡µé¢æä¾›äº†å‡ ä¸ªæŸ¥è¯¢åŠŸèƒ½å¯ä¾›ä½¿ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">All classes including platformShow all members of the rootsetShow instance counts for all classes (including platform)Show instance counts for all classes (excluding platform)Show heap histogramShow finalizer summaryExecute Object Query Language (OQL) query</span><br></pre></td></tr></table></figure>
<p>ä¸€èˆ¬æŸ¥çœ‹å †å¼‚å¸¸æƒ…å†µä¸»è¦çœ‹è¿™ä¸ªä¸¤ä¸ªéƒ¨åˆ†ï¼š Show instance counts for all
classes (excluding platform)ï¼Œå¹³å°å¤–çš„æ‰€æœ‰å¯¹è±¡ä¿¡æ¯ã€‚å¦‚ä¸‹å›¾ï¼š</p>
<figure>
<a href="å¾®ä¿¡æˆªå›¾_20230702130632.png" title="å¾®ä¿¡æˆªå›¾_20230702130632" class="gallery-item" style="box-shadow: none;"> <img src="/2022/03/11/JVM/JVM%E8%B0%83%E4%BC%98%E5%90%88%E9%9B%86/jvm%E7%B3%BB%E5%88%97(%E5%9B%9B)jvm%E8%B0%83%E4%BC%98-%E5%91%BD%E4%BB%A4%E7%AF%87//å¾®ä¿¡æˆªå›¾_20230702130632.png" alt="å¾®ä¿¡æˆªå›¾_20230702130632"></a>
<figcaption aria-hidden="true">å¾®ä¿¡æˆªå›¾_20230702130632</figcaption>
</figure>
<p>Show heap histogram ä»¥æ ‘çŠ¶å›¾å½¢å¼å±•ç¤ºå †æƒ…å†µã€‚å¦‚ä¸‹å›¾ï¼š</p>
<figure>
<a href="å¾®ä¿¡æˆªå›¾_20230702130713.png" title="å¾®ä¿¡æˆªå›¾_20230702130713" class="gallery-item" style="box-shadow: none;"> <img src="/2022/03/11/JVM/JVM%E8%B0%83%E4%BC%98%E5%90%88%E9%9B%86/jvm%E7%B3%BB%E5%88%97(%E5%9B%9B)jvm%E8%B0%83%E4%BC%98-%E5%91%BD%E4%BB%A4%E7%AF%87//å¾®ä¿¡æˆªå›¾_20230702130713.png" alt="å¾®ä¿¡æˆªå›¾_20230702130713"></a>
<figcaption aria-hidden="true">å¾®ä¿¡æˆªå›¾_20230702130713</figcaption>
</figure>
<p>å…·ä½“æ’æŸ¥æ—¶éœ€è¦ç»“åˆä»£ç ï¼Œè§‚å¯Ÿæ˜¯å¦å¤§é‡åº”è¯¥è¢«å›æ”¶çš„å¯¹è±¡åœ¨ä¸€ç›´è¢«å¼•ç”¨æˆ–è€…æ˜¯å¦æœ‰å ç”¨å†…å­˜ç‰¹åˆ«å¤§çš„å¯¹è±¡æ— æ³•è¢«å›æ”¶ã€‚
<strong>ä¸€èˆ¬æƒ…å†µï¼Œä¼šdownåˆ°å®¢æˆ·ç«¯ç”¨å·¥å…·æ¥åˆ†æ</strong></p>
<h2 id="jstack">jstack</h2>
<p>jstackç”¨äºç”Ÿæˆjavaè™šæ‹Ÿæœºå½“å‰æ—¶åˆ»çš„çº¿ç¨‹å¿«ç…§ã€‚çº¿ç¨‹å¿«ç…§æ˜¯å½“å‰javaè™šæ‹Ÿæœºå†…æ¯ä¸€æ¡çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•å †æ ˆçš„é›†åˆï¼Œç”Ÿæˆçº¿ç¨‹å¿«ç…§çš„ä¸»è¦ç›®çš„æ˜¯å®šä½çº¿ç¨‹å‡ºç°é•¿æ—¶é—´åœé¡¿çš„åŸå› ï¼Œå¦‚çº¿ç¨‹é—´æ­»é”ã€æ­»å¾ªç¯ã€è¯·æ±‚å¤–éƒ¨èµ„æºå¯¼è‡´çš„é•¿æ—¶é—´ç­‰å¾…ç­‰ã€‚
çº¿ç¨‹å‡ºç°åœé¡¿çš„æ—¶å€™é€šè¿‡jstackæ¥æŸ¥çœ‹å„ä¸ªçº¿ç¨‹çš„è°ƒç”¨å †æ ˆï¼Œå°±å¯ä»¥çŸ¥é“æ²¡æœ‰å“åº”çš„çº¿ç¨‹åˆ°åº•åœ¨åå°åšä»€ä¹ˆäº‹æƒ…ï¼Œæˆ–è€…ç­‰å¾…ä»€ä¹ˆèµ„æºã€‚
å¦‚æœjavaç¨‹åºå´©æºƒç”Ÿæˆcoreæ–‡ä»¶ï¼Œjstackå·¥å…·å¯ä»¥ç”¨æ¥è·å¾—coreæ–‡ä»¶çš„java
stackå’Œnative
stackçš„ä¿¡æ¯ï¼Œä»è€Œå¯ä»¥è½»æ¾åœ°çŸ¥é“javaç¨‹åºæ˜¯å¦‚ä½•å´©æºƒå’Œåœ¨ç¨‹åºä½•å¤„å‘ç”Ÿé—®é¢˜ã€‚å¦å¤–ï¼Œjstackå·¥å…·è¿˜å¯ä»¥é™„å±åˆ°æ­£åœ¨è¿è¡Œçš„javaç¨‹åºä¸­ï¼Œçœ‹åˆ°å½“æ—¶è¿è¡Œçš„javaç¨‹åºçš„java
stackå’Œnative stackçš„ä¿¡æ¯,
å¦‚æœç°åœ¨è¿è¡Œçš„javaç¨‹åºå‘ˆç°hungçš„çŠ¶æ€ï¼Œjstackæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>
<h3 id="å‘½ä»¤æ ¼å¼-4">å‘½ä»¤æ ¼å¼</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jstack [option] LVMID</span><br></pre></td></tr></table></figure>
<h3 id="optionå‚æ•°-2">optionå‚æ•°</h3>
<blockquote>
<ul>
<li>-F : å½“æ­£å¸¸è¾“å‡ºè¯·æ±‚ä¸è¢«å“åº”æ—¶ï¼Œå¼ºåˆ¶è¾“å‡ºçº¿ç¨‹å †æ ˆ</li>
<li>-l : é™¤å †æ ˆå¤–ï¼Œæ˜¾ç¤ºå…³äºé”çš„é™„åŠ ä¿¡æ¯</li>
<li>-m : å¦‚æœè°ƒç”¨åˆ°æœ¬åœ°æ–¹æ³•çš„è¯ï¼Œå¯ä»¥æ˜¾ç¤ºC/C++çš„å †æ ˆ</li>
</ul>
</blockquote>
<h3 id="ç¤ºä¾‹-3">ç¤ºä¾‹</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jstack -l 11494|more2016-07-28 13:40:04Full thread dump Java HotSpot(TM) 64-Bit Server VM (24.71-b01 mixed mode):&quot;Attach Listener&quot; daemon prio=10 tid=0x00007febb0002000 nid=0x6b6f waiting on condition [0x0000000000000000]   java.lang.Thread.State: RUNNABLE   Locked ownable synchronizers:        - None&quot;http-bio-8005-exec-2&quot; daemon prio=10 tid=0x00007feb94028000 nid=0x7b8c waiting on condition [0x00007fea8f56e000]   java.lang.Thread.State: WAITING (parking)        at sun.misc.Unsafe.park(Native Method)        - parking to wait for  &lt;0x00000000cae09b80&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)        at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:104)        at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:32)        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)        at java.lang.Thread.run(Thread.java:745)   Locked ownable synchronizers:        - None      .....</span><br></pre></td></tr></table></figure>
<h3 id="åˆ†æ-1">åˆ†æ</h3>
<p>è¿™é‡Œæœ‰ä¸€ç¯‡æ–‡ç« è§£é‡Šçš„å¾ˆå¥½ åˆ†ææ‰“å°å‡ºçš„æ–‡ä»¶å†…å®¹</p>
<h2 id="jinfo">jinfo</h2>
<p>jinfo(JVM Configuration
info)è¿™ä¸ªå‘½ä»¤ä½œç”¨æ˜¯å®æ—¶æŸ¥çœ‹å’Œè°ƒæ•´è™šæ‹Ÿæœºè¿è¡Œå‚æ•°ã€‚ ä¹‹å‰çš„jps
-vå£ä»¤åªèƒ½æŸ¥çœ‹åˆ°æ˜¾ç¤ºæŒ‡å®šçš„å‚æ•°ï¼Œå¦‚æœæƒ³è¦æŸ¥çœ‹æœªè¢«æ˜¾ç¤ºæŒ‡å®šçš„å‚æ•°çš„å€¼å°±è¦ä½¿ç”¨jinfoå£ä»¤</p>
<h3 id="å‘½ä»¤æ ¼å¼-5">å‘½ä»¤æ ¼å¼</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jinfo [option] [args] LVMID</span><br></pre></td></tr></table></figure>
<h3 id="optionå‚æ•°-3">optionå‚æ•°</h3>
<blockquote>
<ul>
<li>-flag : è¾“å‡ºæŒ‡å®šargså‚æ•°çš„å€¼</li>
<li>-flags : ä¸éœ€è¦argså‚æ•°ï¼Œè¾“å‡ºæ‰€æœ‰JVMå‚æ•°çš„å€¼</li>
<li>-sysprops : è¾“å‡ºç³»ç»Ÿå±æ€§ï¼Œç­‰åŒäºSystem.getProperties()</li>
</ul>
</blockquote>
<h3 id="ç¤ºä¾‹-4">ç¤ºä¾‹</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jinfo -flag 11494-XX:CMSInitiatingOccupancyFraction=80</span><br></pre></td></tr></table></figure>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2022-03-11</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« albert dong</span>
            
            
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='../../../../../../categories/JVM%E8%B0%83%E4%BC%98%E5%90%88%E9%9B%86/'>
                            JVMè°ƒä¼˜åˆé›†
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='../jvm%E7%B3%BB%E5%88%97(%E4%BA%94)Java%20GC%20%E5%88%86%E6%9E%90/'>jvmç³»åˆ—(äº”):Java GC åˆ†æ</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="../../../../10/JVM/JVM%E8%B0%83%E4%BC%98%E5%90%88%E9%9B%86/jvm%E7%B3%BB%E5%88%97(%E4%B8%80)java%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/">jvmç³»åˆ—(ä¸€):javaç±»çš„åŠ è½½æœºåˆ¶</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2024 China 

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="../../../../../../js/toc.js"></script>

    

    
<script src="../../../../../../js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="../../../../../../js/returnToTop.js"></script>

    

    
        
<script src="../../../../../../js/returnToLastPage.js"></script>

    





<script src="../../../../../../js/lightgallery/lightgallery.umd.min.js"></script>



<script src="../../../../../../js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="../../../../../../js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="../../../../../../js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="../../../../../../js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="../../../../../../js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="../../../../../../js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>